box:
    id: hashicorp/terraform:0.9.11
    entrypoint: ""

build:
    steps:
        - script:
            name: prepare output
            code: |
                cp $(which terraform) "${WERCKER_ROOT}/terraform"
                rm -rf "${WERCKER_ROOT}/.git"
                rm -f "${WERCKER_ROOT}/.gitignore"

        - script:
            name: version
            code: |
                "${WERCKER_ROOT}/terraform" --version

        - shellcheck:
            files: run.sh

publish:
    steps:
        - internal/publish-step:
            owner: ww24
